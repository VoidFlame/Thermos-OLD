--- eclipse/Clean/src/main/java/cpw/mods/fml/common/network/internal/HandshakeCompletionHandler.java	2019-01-11 20:13:52.329548100 -0500
+++ eclipse/Cauldron/src/main/java/cpw/mods/fml/common/network/internal/HandshakeCompletionHandler.java	2019-01-11 20:13:26.476246300 -0500
@@ -13,8 +13,14 @@
     @Override
     protected void channelRead0(ChannelHandlerContext ctx, CompleteHandshake msg) throws Exception
     {
-        NetworkDispatcher dispatcher = ctx.channel().attr(NetworkDispatcher.FML_DISPATCHER).getAndRemove();
-        dispatcher.completeHandshake(msg.target);
+        // Cauldron start - attempt to fix race condition with attr being null
+        io.netty.util.Attribute<NetworkDispatcher> attr = ctx.channel().attr(NetworkDispatcher.FML_DISPATCHER);
+        if (attr != null)
+        {
+            NetworkDispatcher dispatcher = attr.getAndRemove();
+            if (dispatcher != null) dispatcher.completeHandshake(msg.target);
+        }
+        // Cauldron end
     }
 
     @Override
